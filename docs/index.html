<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Demonstration pipeline for the main analyses described in the OSF pre-registration TITLE (LINK). It includes the simulation of data and and parameter recovery through bayesian estimation of linear models.">
<title>Reproducible Analytical Pipeline Demonstration For OSF Pre-registration • osfHYoungFFCWS</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Reproducible Analytical Pipeline Demonstration For OSF Pre-registration">
<meta property="og:description" content="Demonstration pipeline for the main analyses described in the OSF pre-registration TITLE (LINK). It includes the simulation of data and and parameter recovery through bayesian estimation of linear models.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">osfHYoungFFCWS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/osfHYoungFFCWS.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/Data-simulation-and-parameter-recovery-with-brms.html">Data simulation and parameters recovery with brms</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="code-and-dependencies-to-run-the-demonstration-pipeline">Code and dependencies to run the demonstration pipeline<a class="anchor" aria-label="anchor" href="#code-and-dependencies-to-run-the-demonstration-pipeline"></a>
</h1></div>
<p>This repository is a companion to an <a href="https://osf.io/ygbsu" class="external-link">OSF pre-registration</a>. It is organized as an R package and can be installed with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"hugomell/osfHYoungFFCWS"</span>, dependencies <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>It provides R code to run a demonstration pipeline that:</p>
<ol style="list-style-type: decimal">
<li><p>simulates fake datasets based on the equations for the three models described in the pre-registration</p></li>
<li><p>recovers the simulations’ structural parameters with bayesian estimation using the <a href="https://github.com/paul-buerkner/brms" class="external-link">brms</a> package</p></li>
<li><p>generates an HTML report with lavaan syntax for the models used to generate fake data, histograms of the simulated variables, tables and posterior distributions for regression coefficients</p></li>
</ol>
<p>The report produced at the end of the pipeline is available as a <a href="https://pkgdown.r-lib.org" class="external-link">pkgdown</a> <a href="https://hugomell.github.io/osfHYoungFFCWS/articles/Data-simulation-and-parameter-recovery-with-brms.html">article</a>. on the package’s website.</p>
<p>In the next section, we explain how to run the pipeline in a isolated container with all the required software dependencies already installed, either remotely (using <a href="https://gitpod.io" class="external-link">Gitpod</a>), or locally (using <a href="https://podman.io/" class="external-link">Podman</a>). In both cases, the container image used built upon the container images provided by the <a href="https://rocker-project.org/" class="external-link">Rocker project</a>.</p>
<div class="section level2">
<h2 id="running-the-pipeline-inside-a-container">Running the pipeline inside a container<a class="anchor" aria-label="anchor" href="#running-the-pipeline-inside-a-container"></a>
</h2>
<div class="section level3">
<h3 id="remotely-using-gitpod">Remotely using Gitpod<a class="anchor" aria-label="anchor" href="#remotely-using-gitpod"></a>
</h3>
<p><a href="https://gitpod.io/#https://github.com/hugomell/osfHYoungFFCWS/tree/gitpod" class="external-link"><img src="https://gitpod.io/button/open-in-gitpod.svg" alt="Open in Gitpod"></a></p>
<p>Clicking on the above button will launch a Gitpod workspace with a running container from the custom image built for this project. Note that a free Gitpod account is needed to create and use workspaces up to 50 hours per month. Users with Github accounts will be able to sign in using the same credentials (see demonstration GIFs).</p>
<p>Once the workspace has been created (this can take a few minutes), an RStudio session can be accessed from port <code>8787</code> (<code>rstudio</code> should be used both as the default user id and password in the authentification portal).</p>
<p>To run the pipeline, execute in the R console:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">osfHYoungFFCWS</span><span class="fu">::</span><span class="fu"><a href="reference/run_demo_pipeline.html">run_demo_pipeline</a></span><span class="op">(</span>gitpod <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Once the pipeline exits (after a few minutes), the file <code>Data-simulation-and-parameter-recovery-with-brms.html</code> should appear in the file explorer pannel. Just open the file in the browser to preview the report. The same report is available as a <a href="https://pkgdown.r-lib.org" class="external-link">pkgdown</a> <a href="https://hugomell.github.io/osfHYoungFFCWS/articles/Data-simulation-and-parameter-recovery-with-brms.html">article</a>.</p>
<p>The demonstration GIFs below illustrate the different steps:</p>
<p><em>Accessing the Gitpod workspace</em> <img src="assets/img/gitpod-workflow.gif" alt="open gitpod workspace"></p>
<p><em>Acessing RStudio and running the demonstration pipeline</em> <img src="assets/img/gitpod-workflow2.gif" alt="steps to run the demonstration pipeline"></p>
<p><em>View and download the R Markdown report</em> <img src="assets/img/gitpod-workflow3.gif" alt="steps to run the demonstration pipeline"></p>
</div>
<div class="section level3">
<h3 id="locally-using-podman">Locally using Podman<a class="anchor" aria-label="anchor" href="#locally-using-podman"></a>
</h3>
<p><strong><em>NB: Users with recent Mac computers (manufactured since late 2020) using Apple silicon processors are encouraged to use the Gitpod solution explained in the previous section, as they may encounter errors following the instructions below.</em></strong></p>
<p>First, you will need a machine with Podman installed (<a href="https://www.docker.com/" class="external-link">Docker</a> might also work but has not been properly tested). Instructions for the installation of Podman on various platforms can be found in their official <a href="https://podman.io/docs/installation" class="external-link">documentation</a>.</p>
<p>As an example, for Debian/Ubuntu linux users or for Windows users that run these linux distributions using <a href="https://learn.microsoft.com/en-us/windows/wsl/install" class="external-link">Windows Subsystem for Linux</a>, installing Podman is done by running in a terminal:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">sudo</span> apt install podman</span></code></pre></div>
<p>To run a container from the custom image built for this project, first open a terminal and execute the following command:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">podman</span> pull docker.io/ipea7892/osf-hyoung-ffcws:pre-reg</span></code></pre></div>
<p>This command will <em>pull</em> on the local machine the container image that is hosted on <a href="https://hub.docker.com/repository/docker/ipea7892/osf-hyoung-ffcws/pre-reg" class="external-link">Dockerhub</a>. This step is only necessary the first time we want to run the container.</p>
<p>Once the container image has been pulled, run:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">podman</span> run <span class="at">--rm</span> <span class="at">-it</span> <span class="at">-e</span> DISABLE_AUTH=true <span class="at">-p</span> 127.0.0.1:8787:8787 <span class="dt">\</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>       <span class="at">-v</span> <span class="st">"</span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span><span class="st">"</span>:/home/root/project <span class="dt">\</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>       <span class="st">"docker.io/ipea7892/osf-hyoung-ffcws:pre-reg"</span></span></code></pre></div>
<p>A container will be launched from the image with R, RStudio, <a href="https://mc-stan.org/" class="external-link">Stan</a> and all the required R packages already installed.</p>
<p>On startup, the current directory will be binded to the container so that reading, modifying or adding files to it is allowed. An RStudio server will be launched and to access the associated RStudio session, open a browser at <code>http://localhost:8787</code>.</p>
<p>Now, the pipeline can be run with:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">osfHYoungFFCWS</span><span class="fu">::</span><span class="fu"><a href="reference/run_demo_pipeline.html">run_demo_pipeline</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Once the pipeline exits (after a few minutes), the file <code>Data-simulation-and-parameter-recovery-with-brms.html</code> should have been written to the project directory. Open it in a browser to see the report. The same report is available as a <a href="https://pkgdown.r-lib.org" class="external-link">pkgdown</a> <a href="https://hugomell.github.io/osfHYoungFFCWS/articles/Data-simulation-and-parameter-recovery-with-brms.html">article</a>.</p>
<p>To stop the container, press <code>Ctrl-c</code> in the terminal to close the RStudio session and shutdown the RStudio server.</p>
<p>The demonstration GIFs below illustrates the entire process:</p>
<div class="float">
<img src="./assets/img/podman-workflow.gif" alt="steps to run container with podman"><div class="figcaption">steps to run container with podman</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="go-further">Go further<a class="anchor" aria-label="anchor" href="#go-further"></a>
</h2>
<p>See the <a href="https://hugomell.github.io/osfHYoungFFCWS/articles/osfHYoungFFCWS.html">Get started</a> as well as the <a href="https://hugomell.github.io/osfHYoungFFCWS/reference/index.html">Reference</a> sections for more information on the functions used in the pipeline, and ways to modify the default values for the simulation parameters and the models’ priors.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing osfHYoungFFCWS</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Hugo Mell <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2346-1008" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugo Mell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
